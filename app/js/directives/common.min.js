angular.module("app").directive("header",function(){return{restrict:"A",replace:true,templateUrl:"app/views/header.html",controller:"HeaderController as header"}});angular.module("app").directive("footer",function(){return{restrict:"A",replace:true,templateUrl:"app/views/footer.html",controller:["$scope","$filter",function($scope,$filter){}]}});angular.module("app").directive("submenu",function(){return{restrict:"A",replace:true,templateUrl:"app/views/submenu_account.html",controller:"MenuController as menu"}});angular.module("app").directive("submenuInfo",function(){return{restrict:"A",replace:true,templateUrl:"app/views/submenu_info.html",controller:"MenuController as menu"}});angular.module("app").directive("errorMessages",function(){return{restrict:"E",scope:{objectName:"=name"},templateUrl:"app/views/messages.html",controller:["$scope","$filter",function($scope,$filter){}]}});angular.module("app").directive("equal",function(){return{require:"ngModel",scope:{equal:"="},link:function(scope,elm,attrs,ctrl){ctrl.$validators.equal=function(modelValue,viewValue){return modelValue===scope.equal};scope.$watch("equal",function(newVal,oldVal){ctrl.$validate()})}}});angular.module("app").directive("numbersOnly",function(){return{require:"ngModel",link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){var transformedInput=text.replace(/[^0-9]/g,"");if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}return transformedInput}return undefined}ngModelCtrl.$parsers.push(fromUser)}}});angular.module("app").directive("resize",["$window",function($window){return{link:function(scope,elem){var win=angular.element($window);scope.$watch(function(){return $window.innerHeight-elem[0].offsetHeight},function(newValue,oldValue){if(Math.abs(newValue-oldValue)>5){if(newValue>100){elem[0].style.bottom=(newValue/2-30<60?60:newValue/2-30)+"px"}else{elem[0].style.bottom=newValue/2-30+"px"}scope.landing.recalc($window.innerHeight-newValue,newValue/2-30)}});win.bind("resize",function(){scope.$apply()})}}}]);angular.module("app").directive("numericOnly",function($filter){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){element.bind("keyup",function(inputValue,e){var strinput=modelCtrl.$$rawModelValue;var transformedInput=strinput?strinput.replace(/[^,\d.-]/g,""):null;if(transformedInput.charAt(0)<="0"){transformedInput=null;modelCtrl.$setViewValue(transformedInput);modelCtrl.$render()}else{var decimalSplit=transformedInput.split(".");var intPart=decimalSplit[0];var decPart=decimalSplit[1];intPart=intPart.replace(/,/g,"");if(intPart.length>3){var intDiv=Math.floor(intPart.length/3);var strfraction=[];var i=intDiv,j=3;while(intDiv>0){strfraction[intDiv]=intPart.slice(intPart.length-j,intPart.length-(j-3));j=j+3;intDiv--}var k=j-3;if(intPart.length-k>0){strfraction[0]=intPart.slice(0,intPart.length-k)}}if(strfraction==undefined){return}var currencyformat=strfraction.join(",");if(currencyformat.charAt(0)==","){currencyformat=currencyformat.slice(1)}if(decPart==undefined){modelCtrl.$setViewValue(currencyformat);modelCtrl.$render();return}else{currencyformat=currencyformat+"."+decPart.slice(0,2);modelCtrl.$setViewValue(currencyformat);modelCtrl.$render()}}})}}});angular.module("app").directive("autocomplete",function(){return{restrict:"A",link:function($scope,el,attr){el.bind("change",function(e){e.preventDefault()})}}});angular.module("app").directive("ngConfirmClick",[function(){return{link:function(scope,element,attr){var msg=attr.ngConfirmClick||"Are you sure?";var clickAction=attr.confirmedClick;element.bind("click",function(event){if(window.confirm(msg)){scope.$eval(clickAction)}})}}}]);