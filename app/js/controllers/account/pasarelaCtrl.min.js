(function(){"use strict";angular.module("app").controller("pasarelaController",pasarelaController);pasarelaController.$inject=["$rootScope","$scope","$uibModalInstance","GameAccount","data"];function pasarelaController($rootScope,$scope,$uibModalInstance,GameAccount,data){var vm=this;getData();function getData(){switch(data.idPasarela){case 1:vm.pasarela="tu_compra";break;case 2:vm.pasarela="payU";break;case 3:vm.pasarela="payU";break;case 4:vm.pasarela="payU";break;default:break}vm.cliente=data.configuracionTuCompra.cliente;vm.usuario=data.configuracionTuCompra.usuario;vm.factura=data.factura;vm.descripcion=data.descripcion;vm.token_solicitud=data.token_solicitud;vm.tipoMoneda="COP";vm.lenguaje="";vm.recurrencia="";vm.periodo="";vm.cantidadCobros="";vm.metodoPago="";vm.valorBase="";vm.valorIva=data.iva;vm.valor=data.valor;vm.tokenTarjeta="";vm.documentoComprador=data.datosUsuario.numDoc;vm.tipoDocumento="";vm.nombreComprador=data.datosUsuario.nombre;vm.apellidoComprador=data.datosUsuario.apellido;vm.correoComprador=data.datosUsuario.mail;vm.telefonoComprador=data.datosUsuario.fijo;vm.celularComprador=data.datosUsuario.movil;vm.direccionComprador=data.datosUsuario.dir;vm.ciudadComprador=data.datosUsuario.ciudad_nom;vm.paisComprador=data.datosUsuario.pais_nom;vm.llave_terminal=data.configuracionTuCompra.llave_terminal;vm.usuario=data.configuracionTuCompra.usuario;vm.password=data.configuracionTuCompra.password;vm.campoExtra1=$rootScope.id}vm.close=function(){GameAccount.setPasarelaStatus($rootScope.id,$rootScope.tokenSession,vm.factura,0).then(complete).catch(failed);function complete(response){console.log(response)}function failed(response){}$uibModalInstance.close()};vm.confirm=function(){GameAccount.setPasarelaStatus($rootScope.id,$rootScope.tokenSession,vm.factura,1).then(complete).catch(failed);function complete(response){console.log(response)}function failed(response){}}}})();