(function(){"use strict";angular.module("app").controller("forgetPasswordController",forgetPasswordController);forgetPasswordController.$inject=["$scope","vcRecaptchaService","growl","REST","AuthService"];function forgetPasswordController($scope,vcRecaptchaService,growl,REST,AuthService){var vm=this;vm.response=null;vm.widgetId=null;vm.model={key:REST.KEY};vm.setResponse=function(response){vm.response=response};vm.setWidgetId=function(widgetId){vm.widgetId=widgetId};vm.cbExpiration=function(){vcRecaptchaService.reload(vm.widgetId);vm.response=null};function validateCaptcha(){Utils.validateCaptcha(vm.captcha).then(complete).catch(failed);function complete(data){}function failed(data){console.log(data)}}vm.submit=function(){var captcha=vcRecaptchaService.getResponse();AuthService.forgetPassword(vm.email,captcha).then(complete).catch(failed);function complete(data){var config={};if(data.state==1){growl.success(data.msg,config)}else{growl.error(data.msg,config)}}function failed(data){console.log(data)}}}})();