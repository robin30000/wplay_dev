(function(){"use strict";angular.module("app").controller("contactController",contactController);contactController.$inject=["$scope","vcRecaptchaService","MainService","growl","REST"];function contactController($scope,vcRecaptchaService,MainService,growl,REST){var vm=this;vm.response=null;vm.widgetId=null;vm.model={key:REST.KEY};vm.setResponse=function(response){vm.response=response};vm.setWidgetId=function(widgetId){vm.widgetId=widgetId};vm.cbExpiration=function(){vcRecaptchaService.reload(vm.widgetId);vm.response=null};vm.subjects=[{value:1,option:"Registro"},{value:2,option:"Dep√≥sitos"},{value:3,option:"Retiros"},{value:4,option:"Otros"}];function reset(form,data){if(form){data.subject=undefined;data.email=undefined;data.fullName=undefined;data.phone=undefined;data.body=undefined;vcRecaptchaService.reload(vm.widgetId);vm.response=null;form.$setPristine();form.$setUntouched()}}vm.submit=function(form,formData){MainService.contact(formData).then(complete);if(form){reset(form,formData)}function complete(data){var config={};if(data.state==1){growl.success(data.msg,config);reset(form,formData)}else{growl.error(data.msg,config)}}}}})();