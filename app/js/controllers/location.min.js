(function(){"use strict";angular.module("app").controller("locationController",locationController);locationController.$inject=["$scope","NgMap","Utils"];function locationController($scope,NgMap,Utils){var vm=this;vm.googleMapsUrl="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGFBHjvxyAfBho6sUds5hHYd0fBssB9DA";vm.game=[];init();function init(){getPoints()}function getPoints(){Utils.Points().then(complete).catch(failed);function complete(data){var log=[];var a={};var x=[angular.forEach(data,function(value,key){this.push(a={pos:[value.latitud,value.longitud],des:value.descripcion,telefono:value.telefono,contacto:value.nombre_contacto,direccion:value.direccion,Barrio:value.barrio})},log)];vm.game=log}function failed(data){console.log(data)}}vm.shop=vm.game[0];vm.showDetail=function(e,shop){vm.shop=shop;alert("Descripcion :"+shop.des+"\nTelefono :"+shop.telefono+"\nContacto :"+shop.contacto+"\nDireccion :"+shop.direccion+"\nBarrio :"+shop.Barrio)};NgMap.getMap("mainMap").then(function(map){vm.map=map})}})();