(function () {
    'use strict';
    angular.module('app').factory('Utils', Utils);
    Utils.$inject = ['$http', '$q', 'REST'];

    function Utils($http, $q, REST) {
        var dataFactory = {};
        dataFactory.validateCaptcha = function (response) {
            var data = {
                secret: REST.SECRET,
                response: response
            }
            return $http.post(REST.CAPTCHA, data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getCountries = function () {
            var data = {
                metodo: 'paises'
            }
            return $http.post(REST.API + 'selectPaises.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getDepartment = function (idcountry) {
            var data = {
                metodo: 'departamentos',
                pais_id: idcountry
            };
            return $http.post(REST.API + 'select_dependientes.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getCity = function (idDepartment) {
            var data = {
                idDepartamento: {
                    depto_id: idDepartment
                },
                metodo: 'ciudad'
            }
            return $http.post(REST.API + 'select_dependientes.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getCityCode = function (idDepartment) {
            var data = {
                idDepartamento: {
                    depto_id: idDepartment
                },
                metodo: 'mostrarCiudadesCodigos'
            }
            return $http.post(REST.API + 'select_dependientes.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getPoints = function () {
            var data = {
                metodo: 'mostrarPuntosVentas'
            }
            return $http.post(REST.API + 'puntosVentaCtrl.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.Points = function () {
            var data = {
                metodo: 'getPoints'
            };
            return $http.post(REST.API + 'puntosVentaCtrl.php', data).then(complete).catch(failed);

            function complete(response) {
                return $q.when(response.data);
            }

            function failed(response) {
                return $q.reject(response.data);
            }
        };
        dataFactory.getSlider = function () {
            var slider = [
                {
                    image: 'app/img/slider/banner-home1.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 4,
                    //description: "Lorem Ipsum"
                }
                , 
                {
                    image: 'app/img/slider/banner-home2.png',
                    url: "/localizacion",

                    //text: "Slide Tres",
                    id: 8,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home3.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 6,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home4.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 2,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home5.png',
                    url: "/cuenta-juego/banca/deposito",
                    //text: "Slide Tres",
                    id: 5,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home6.png',
                    //url: "direccion.comercial@wplay.co",
                    //text: "Slide Tres",
                    id: 7,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home7.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 0,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home8.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 1,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home9.png',
                    url: "https://ptm.com.co/llegan-las-apuestas-deportivas-ptm/",
                    //text: "Slide Tres",
                    id: 9,
                    //description: "Lorem Ipsum"
                }
                , {
                    image: 'app/img/slider/banner-home10.png',
                    url: "/apuestas",
                    //text: "Slide Tres",
                    id: 3,
                    //description: "Lorem Ipsum"
                }
            ];
            return $q.when(slider);
        };
        dataFactory.getSliderBottom = function () {
            var slider =
                {
                    "SliderBottom4": [
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq1.png',
                            url: "/cuenta-juego/banca/deposito",
                            id: 0,
                            //description: "Lorem Ipsum"
                        },
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq2.png',
                            url: "/apuestas",
                            id: 1,
                            //description: "Lorem Ipsum"
                        }
                    ],
                    "SliderBottom3": [
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq3.png',
                            url: "/apuestas",
                            id: 1,
                            //description: "Lorem Ipsum"
                        },
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq4.png',
                            url: "/video",
                            id: 0,
                            //description: "Lorem Ipsum"
                        }
                    ],
                    "SliderBottom2": [
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq5.png',
                            url: "/apuestas",
                            id: 1,
                            //description: "Lorem Ipsum"
                        },
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq6.png',
                            url: "/apuestas",
                            id: 0,
                            //description: "Lorem Ipsum"
                        }
                    ],
                    "SliderBottom1": [
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq8.png',
                            url: "/info/preguntas-frecuentes",
                            id: 1,
                            //description: "Lorem Ipsum"
                        },
                        {
                            image: 'app/img/slider/slider_bottom/banner-peq7.png',
                            url: "/cuenta-juego/banca/deposito",
                            id: 0,
                            //description: "Lorem Ipsum"
                        }
                    ]
                }

            ;
            return $q.when(slider);
        };
        return dataFactory;
    }
})();